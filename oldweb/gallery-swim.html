<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2022年春节游泳</title>

    <link rel="stylesheet" href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css'>
    <link rel="stylesheet" href="css/gallery.css">
    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
    <!-- <script src="https://cdn.jsdelivr.net/npm/vue@2"></script> -->

</head>

<body style="background-color: #336688;">
    <div class="header">
        <h1>2022年春节游泳</h1>
    </div>
    <div class="container" id="app">
        <vue-gallery :photos="photos"></vue-gallery>
    </div>

    <script>
        Vue.component('vue-gallery', {
            props: ['photos'],
            data: function () {
                return {
                    activePhoto: null
                }
            },
            template: `
            <div class="gallery">
               <div class="activePhoto" :style="'background-image:url('+photos[activePhoto]+');'">
                    <button type="button" class="previous" @click="previousPhoto()">
                        <i class="fas fa-chevron-circle-left"></i>
                     </button>
                     <button type="button" class="next" @click="nextPhoto()">
                          <i class="fas fa-chevron-circle-right"></i>
                    </button>
               </div>
               <div class="thumbnails">
                    <div
                    v-for="(photo,index) in photos"
                    :src="photo"
                    :key="index"
                    @click="changePhoto(index)"
                    :class="{'cative':activePhoto == index}" :style="'background-image:url('+photo+')'">
                    </div>
                </div>
            </div>`,
            mounted() {
                this.changePhoto(0);
                document.addEventListener("keydown", (event) => {
                    if (event.which == 37)
                        this.previousPhoto()
                    if (event.which == 39)
                        this.nextPhoto()
                })
            },
            methods: {
                changePhoto(index) {
                    this.activePhoto = index
                },
                nextPhoto() {
                    this.changePhoto(this.activePhoto + 1 < this.photos.length ? this.activePhoto + 1 : 0)
                },
                previousPhoto() {
                    this.changePhoto(this.activePhoto - 1 >= 0 ? this.activePhoto - 1 : this.photos.length - 1)
                }

            }
        });
        new Vue({
            el: '#app',
            data: {
                photos: [
                    'images/tutu/TTdiary/swim1.jpeg',
                    'images/tutu/TTdiary/swim2.jpeg',
                    'images/tutu/TTdiary/swim3.jpeg',
                ]
            }
        });
    </script>

</body>

</html>